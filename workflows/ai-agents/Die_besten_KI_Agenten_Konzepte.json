{
  "name": "Die besten KI-Agenten Konzepte",
  "nodes": [
    {
      "parameters": {
        "content": "# PROMPT-CHAINING\nPrompt-Chaining zerlegt eine Aufgabe in eine Abfolge von Schritten, wobei jeder LLM-Aufruf die Ausgabe des vorherigen verarbeitet.\n\n![Bildbeschreibung](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F7418719e3dab222dccb379b8879e1dc08ad34c78-2401x1000.png&w=3840&q=75)\n\n## Wann dieser Workflow verwendet werden sollte:\nDieser Workflow eignet sich ideal für Situationen, in denen eine Aufgabe leicht und klar in feste Teilaufgaben zerlegt werden kann. Das Hauptziel besteht darin, Latenz gegen höhere Genauigkeit einzutauschen, indem jeder LLM-Aufruf eine einfachere Teilaufgabe übernimmt.\n\n### Vorteile\n- Zerlegt die Arbeit in einfachere Abschnitte, wodurch es für jedes LLM leichter wird, daran zu arbeiten.\n- Bietet mehr Flexibilität, da in jeder Phase eines Tasks unterschiedliche Modelle verwendet werden können.\n- Einfacher zu debuggen, da der Prozess in überschaubare Teile aufgeteilt ist.\n",
        "height": 720,
        "width": 740,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        -40
      ],
      "id": "ca4866dd-7967-4fc9-a0ab-4d25f769821e",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "# ROUTING\nRouting klassifiziert eine Eingabe und leitet sie an eine spezialisierte Folgeaufgabe weiter. Dieser Workflow ermöglicht eine klare Trennung von Zuständigkeiten und den Aufbau spezialisierter Prompts. Ohne diesen Workflow kann die Optimierung für eine bestimmte Eingabe die Leistung für andere Eingaben verschlechtern.\n\n![Bildbeschreibung](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F5c0c0e9fe4def0b584c04d37849941da55e5e71c-2401x1000.png&w=3840&q=75)\n\n## Wann dieser Workflow verwendet werden sollte:\nRouting eignet sich gut für komplexe Aufgaben, bei denen es unterschiedliche Kategorien gibt, die besser getrennt verarbeitet werden, und bei denen die Klassifizierung entweder durch ein LLM oder ein traditionelles Klassifizierungsmodell/-algorithmus genau durchgeführt werden kann.\n",
        "height": 620,
        "width": 740,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        720
      ],
      "id": "5beedbc1-b795-4cf3-988b-723bd9dd1894",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "# PARALLELISIERUNG\nLLMs können manchmal gleichzeitig an einer Aufgabe arbeiten, wobei ihre Ausgaben programmatisch zusammengeführt werden. Dieser Workflow, die Parallelisierung, zeigt sich in zwei Hauptvarianten:\n\n## Sectioning:\nAufteilung einer Aufgabe in unabhängige Teilaufgaben, die parallel ausgeführt werden.\n\n## Voting:\nMehrmalige Ausführung derselben Aufgabe, um unterschiedliche Ergebnisse zu erhalten.\n\n![Bildbeschreibung](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F406bb032ca007fd1624f261af717d70e6ca86286-2401x1000.png&w=3840&q=75)\n\n## Wann dieser Workflow verwendet werden sollte:\nParallelisierung ist effektiv, wenn die aufgeteilten Teilaufgaben parallel ausgeführt werden können, um die Geschwindigkeit zu erhöhen, oder wenn mehrere Perspektiven bzw. Versuche erforderlich sind, um zuverlässigere Ergebnisse zu erzielen. Bei komplexen Aufgaben mit mehreren Aspekten erzielen LLMs in der Regel bessere Ergebnisse, wenn jeder Aspekt durch einen separaten LLM-Aufruf behandelt wird, wodurch gezielte Aufmerksamkeit auf jede spezifische Fragestellung ermöglicht wird.\n",
        "height": 800,
        "width": 740,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        1380
      ],
      "id": "10bdf709-c6f3-4c80-90d7-0757a3889d9e",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "# Orchestrator-workers\nIm Orchestrator-Workers-Workflow bricht ein zentrales LLM dynamisch Aufgaben auf, delegiert sie an Worker-LLMs und synthetisiert deren Ergebnisse.\n![Bildbeschreibung](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F8985fc683fae4780fb34eab1365ab78c7e51bc8e-2401x1000.png&w=3840&q=75)\n## Wann man diesen Workflow verwenden sollte:\nDieser Workflow eignet sich gut für komplexe Aufgaben, bei denen die benötigten Unteraufgaben nicht vorhergesagt werden können (zum Beispiel bei der Programmierung, wo die Anzahl der zu ändernden Dateien und die Art der Änderungen in jeder Datei wahrscheinlich von der Aufgabe abhängen). Obwohl er topografisch ähnlich ist, besteht der wesentliche Unterschied zur Parallelisierung in seiner Flexibilität – Unteraufgaben sind nicht vordefiniert, sondern werden vom Orchestrator basierend auf der spezifischen Eingabe bestimmt.\n",
        "height": 600,
        "width": 740,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        2220
      ],
      "id": "1c3b83df-503f-477b-9d6b-8aa76d0b3fef",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "# EVALUATOR-OPTIMIZER\nIm Evaluator-Optimizer-Workflow generiert ein LLM-Aufruf eine Antwort, während ein anderer die Bewertung und Rückmeldung in einer Schleife liefert.\n\n![Bildbeschreibung](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F14f51e6406ccb29e695da48b17017e899a6119c7-2401x1000.png&w=3840&q=75)\n\n## Wann dieser Workflow verwendet werden sollte:\nDieser Workflow ist besonders effektiv, wenn klare Bewertungskriterien vorliegen und wenn iteratives Verfeinern messbaren Nutzen bringt. Die beiden Anzeichen für eine gute Passung sind erstens, dass die LLM-Antworten nachweislich verbessert werden können, wenn ein Mensch sein Feedback formuliert; und zweitens, dass das LLM solches Feedback liefern kann. Dies ist analog zum iterativen Schreibprozess, den ein menschlicher Autor durchlaufen könnte, um ein ausgefeiltes Dokument zu erstellen.\n",
        "height": 620,
        "width": 740,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        2840
      ],
      "id": "bc43217d-f164-4302-9e35-18b41c4f4cf7",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "# AGENTEN\nAgenten nutzen die Fähigkeiten von LLMs, komplexe Eingaben zu verstehen, zu schlussfolgern und zu planen, zuverlässig Werkzeuge zu verwenden und Fehler zu beheben. Sie beginnen in der Regel mit entweder einem direkten Befehl oder einer interaktiven Unterhaltung mit dem Nutzer. Sobald die Aufgabe klar ist, planen und arbeiten die Agenten eigenständig, können aber für zusätzliche Informationen oder Urteile zum Nutzer zurückkehren. Während der Ausführung ist es wichtig, dass sie Echtzeit-Feedback (wie z. B. Ergebnisse von Werkzeugen oder Ausgaben von Codeausführungen) sammeln, um den Fortschritt zu überwachen. Sie können an Kontrollpunkten oder bei Hindernissen eine Pause für menschliches Feedback einlegen. Aufgaben enden in der Regel nach der Fertigstellung, obwohl Stoppbedingungen (wie eine maximale Anzahl an Iterationen) oft zur Kontrolle festgelegt werden.\n\nObwohl Agenten komplexe Aufgaben verwalten können, ist ihre Implementierung in der Regel einfach. Sie sind im Wesentlichen LLMs, die basierend auf Feedback aus der Umgebung durch die Nutzung von Werkzeugen schleifen. Daher ist es entscheidend, sowohl die Werkzeuge als auch deren Dokumentation sorgfältig zu gestalten.\n\n![Bildbeschreibung](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F58d9f10c985c4eb5d53798dea315f7bb5ab6249e-2401x1000.png&w=3840&q=75)\n\n## Wann dieser Workflow verwendet werden sollte:\nAgenten können für offene Probleme verwendet werden, bei denen es schwierig oder unmöglich ist, die erforderliche Anzahl an Schritten vorherzusagen, und bei denen kein fester Pfad festgelegt werden kann. Das LLM wird möglicherweise viele Schritte ausführen, und es ist wichtig, ein gewisses Maß an Vertrauen in seine Entscheidungsfindung zu haben. Die Autonomie der Agenten macht sie ideal, um Aufgaben in vertrauenswürdigen Umgebungen zu skalieren.\n\nDie autonome Natur von Agenten führt jedoch zu höheren Kosten und der Möglichkeit sich häufender Fehler. Wir empfehlen umfangreiche Tests in abgesicherten Umgebungen sowie die entsprechenden Sicherheitsvorkehrungen.\n",
        "height": 920,
        "width": 740,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        3500
      ],
      "id": "f9194274-ceae-4a24-8436-94a857a4bc7b",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "inputText": "=Dein Ziel ist es, genau zu verstehen, welche Art von Inhalten der Nutzer basierend auf seiner Anfrage erwartet: {{ $json.chatInput }}\n",
        "categories": {
          "categories": [
            {
              "category": "Gedicht",
              "description": "gedicht"
            },
            {
              "category": "Witz",
              "description": "witz"
            },
            {
              "category": "Geschichte",
              "description": "geschichte"
            },
            {
              "category": "Nicht klar",
              "description": "Wenn nicht klar ist, welche Art von Inhalt der Nutzer möchte."
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "typeVersion": 1,
      "position": [
        1280,
        920
      ],
      "id": "32a91ef8-a69e-4e56-8726-d1e99656cfe5",
      "name": "Text Classifier"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"output\":  \"Ich bin mir nicht sicher, welche Art von Inhalt du möchtest. Könntest du bitte klären, ob du ein **Gedicht**, einen **Witz** oder eine **Geschichte** möchtest?\"\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1760,
        1180
      ],
      "id": "e8e83de1-a81a-4c30-b603-b6cd572f6adb",
      "name": "Error Message"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "o3-mini",
          "mode": "list",
          "cachedResultName": "o3-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1420,
        1180
      ],
      "id": "5efa695d-3115-41aa-86df-3f1ece985db1",
      "name": "O3-mini-Routing",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.toolSerpApi",
      "typeVersion": 1,
      "position": [
        1180,
        1880
      ],
      "id": "4e7c200c-830c-4532-abd0-70bc0dd47155",
      "name": "SerpAPI",
      "credentials": {
        "serpApi": {
          "id": "",
          "name": "SerpAPI account"
        }
      }
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"output\": {{ JSON.stringify(`\n🏨 Hotelempfehlungen:  \n${$('Merge').all()[0].json.output}  \n\n👨‍🍳 Restaurantempfehlungen:  \n${$('Merge').all()[1].json.output}  \n\n🎯 Aktivitätsempfehlungen:  \n${$('Merge').all()[2].json.output}  \n`) }}\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2080,
        1660
      ],
      "id": "2d9149af-d744-4741-b265-14484faa11f0",
      "name": "Aggregator",
      "executeOnce": true
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1920,
        1660
      ],
      "id": "c5983497-8635-4a49-bc75-578ee8f9496b",
      "name": "Merge",
      "executeOnce": false
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        3600,
        1660
      ],
      "id": "8d6f1a27-94b6-47fc-9664-2fb8baf23117",
      "name": "Voting Merge"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"chatInput\": \"{{ $json.message.text }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1120,
        1680
      ],
      "id": "a4a9504d-9ee4-43f3-a0c9-0d27fea1c3c3",
      "name": "Sectioning"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"chatInput\": \"{{ $json.message.text }}\"\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2760,
        1660
      ],
      "id": "ebb1081a-e5c4-44eb-a7fd-2ff53e824c55",
      "name": "Voting"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"chatInput\": \"{{ $json.message.text }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1120,
        920
      ],
      "id": "6a700e39-3998-4886-9967-1bece4833f21",
      "name": "Routing"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"topic\": \"{{ $json.message.text }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1140,
        220
      ],
      "id": "0887872b-be95-4496-ae64-e100eb33dba1",
      "name": "Prompt Chaining"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1100,
        4000
      ],
      "id": "f6c483b8-f99a-48ee-a069-509a68c1966c",
      "name": "Agents - O3-MINI",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"chatInput\": \"{{ $json.message.text }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1160,
        2400
      ],
      "id": "8b2ec787-6f71-4b5a-b826-d176b041b2e5",
      "name": "Orchestrator"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.chatInput }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=Du bist ein Orchestrator. Ein Benutzer wird einen Text bereitstellen und die Sprache(n) angeben, in die der Text übersetzt werden soll.\n\nDein Ziel:\n1. Identifiziere alle Sprachen, in die der Benutzer den Text übersetzen möchte.\n2. Identifiziere den Text.\n3. Erzeuge ein gültiges JSON-Array, bei dem jedes Element wie folgt aussieht:\n   {\n     \"language\": \"<Zielsprache>\",\n     \"text\": \"<Originaltext>\"\n   }\n\nEinschränkungen:\n- Gib nur das JSON-Array aus, nichts anderes.\n- Wenn mehrere Sprachen angegeben werden, erstelle für jede Sprache ein Objekt.\n- Wenn keine Sprachen angegeben sind, gib ein leeres Array aus.\n\nBeispiel-Eingabe:\n\"Please translate the following to Spanish, Turkish, and French -> Hello! I just arrived in Barcelona...\"\n\nErwartete Ausgabe (gültiges JSON):\n[\n  {\n    \"language\": \"Spanisch\",\n    \"text\": \"Hello! I just arrived in Barcelona...\"\n  },\n  {\n    \"language\": \"Englisch\",\n    \"text\": \"Hello! I just arrived in Barcelona...\"\n  },\n  {\n    \"language\": \"Französisch\",\n    \"text\": \"Hello! I just arrived in Barcelona...\"\n  }\n]\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1340,
        2400
      ],
      "id": "2b42b754-6405-47ab-ad9c-2a5ae88737df",
      "name": "Orchestrator Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1640,
        2620
      ],
      "id": "f7839f03-144a-4d8e-9503-7c0a4b9e8fdd",
      "name": "O3-mini-Routing2",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "o3-mini",
          "mode": "list",
          "cachedResultName": "o3-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1180,
        1520
      ],
      "id": "169fbf32-01e1-4895-8ea5-be43741d2ac7",
      "name": "O3-mini-P",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "gmail_agent"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1260,
        4000
      ],
      "id": "322cc6a4-54b1-4d4e-8d6f-2a211c92d6d6",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "fieldToSplitOut": "output",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1680,
        2400
      ],
      "id": "42634cbe-8e43-456d-abd3-8f9fe9c6edd8",
      "name": "Split Out"
    },
    {
      "parameters": {
        "jsonSchemaExample": "[\n  {\n    \"language\": \"English\",\n    \"text\": \"Sample text, Hi there, My name is John\"\n  }\n]"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        1360,
        2620
      ],
      "id": "f34d0d69-887f-4578-9d5c-11208cf7c6da",
      "name": "Translation Array"
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "output"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        2180,
        2400
      ],
      "id": "432086de-afb7-496b-8575-c7eec587f4a9",
      "name": "Translated Text"
    },
    {
      "parameters": {
        "sendTo": "s.claes.work@gmail.com",
        "subject": "=Übersetzter Text",
        "emailType": "text",
        "message": "={{ $json.output.join('\\n\\n') }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        2320,
        2400
      ],
      "id": "a21afd80-4f5b-40b3-823b-e560367d0eaf",
      "name": "Gmail3",
      "webhookId": "39a7f851-3576-477c-8ec6-792a05230062",
      "credentials": {
        "gmailOAuth2": {
          "id": "",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        1440,
        4000
      ],
      "id": "37325911-ad68-4f20-931b-78c098edf43a",
      "name": "Send Email",
      "webhookId": "71a39428-8b08-4105-88fb-5c7ca0e4fa16",
      "credentials": {
        "gmailOAuth2": {
          "id": "",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1280,
        400
      ],
      "id": "e73086b7-8ddd-411f-affc-452b736dbe30",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1580,
        400
      ],
      "id": "767532ed-1216-4c62-bb49-eef9f72dd38e",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1840,
        400
      ],
      "id": "e5140924-19de-4827-b9ab-f5ac43f14f6d",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        3000,
        1620
      ],
      "id": "7ecb6b75-1009-4518-b18f-3577e7dd91d9",
      "name": "gpt-4o",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        2980,
        1780
      ],
      "id": "20442044-e0d3-4d68-8d9e-df9c06cc0087",
      "name": "gpt-4o-mini",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-3.5-turbo",
          "mode": "list",
          "cachedResultName": "gpt-3.5-turbo"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        3000,
        2020
      ],
      "id": "74b49d5e-22d6-41d8-81fc-12d04d278b29",
      "name": "gpt-3.5-turbo",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "1f403630170c8d537460aca9d72600e7f41f29a111216e21171264f622ad6d87@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "Test"
        },
        "returnAll": true,
        "timeMin": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', `12:01 AM of the day the user requested`, 'string') }}",
        "timeMax": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', `11:59 PM of the day the user requested`, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        1240,
        3320
      ],
      "id": "58c32ef5-96fd-49a9-bd0d-dfd7c45cd39d",
      "name": "Get_Events",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "inputText": "={{ $json.result.text }}",
        "categories": {
          "categories": [
            {
              "category": "Genehmigt",
              "description": "Der Nutzer bestätigt oder stimmt unserer Anfrage zu. Das bedeutet, dass er anerkennt, dass die bereitgestellten Informationen oder Maßnahmen korrekt sind und wir fortfahren können. Genehmigungsnachrichten enthalten oft Formulierungen wie:\n„Ja“\n„Sieht gut aus für mich“\n„Senden“\n„Korrekt“\n„Genehmigt“\n„Das funktioniert“\n„Klingt gut“\n„Mach weiter“"
            },
            {
              "category": "Abgelehnt",
              "description": "Der Nutzer gibt Feedback, das keine Zustimmung signalisiert. Dies kann Änderungswünsche, Korrekturen oder zusätzliche Klärungen umfassen. Eine Ablehnung kann auch die Angabe eines E-Mail-Typs beinhalten, wie z. B. „geschäftlich“ oder „privat“.\n\nBeispiele für Ablehnungsformulierungen:\n„Abgelehnt“\n„Geschäftlich“\n„Ändere die Uhrzeit“\n„Privat“\n„Beide löschen“\n„Das erste löschen“\n„Heute“\n„Morgen“\n„22. Februar“"
            },
            {
              "category": "Warte auf Antwort",
              "description": "Es sind Fragen offen die klärungsbedarf haben, der nutzer hat noch keine Eindeutige Aussage getroffen"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "typeVersion": 1,
      "position": [
        1780,
        3140
      ],
      "id": "f560e2d8-f7bd-4c0a-a9d2-c99bc2f45b0a",
      "name": "Check Feedback"
    },
    {
      "parameters": {
        "chatId": "5355046437",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2460,
        2860
      ],
      "id": "ae3ce508-295a-49da-99a6-ea577e142a5c",
      "name": "Response",
      "webhookId": "2ab05328-c0b6-462c-a662-2264114c417f",
      "credentials": {
        "telegramApi": {
          "id": "",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1h8dSyYpe0BcOUqd13j7Vu6-yJR2INfV7YV3aenvbY2w",
          "mode": "list",
          "cachedResultName": "Test Kontakte",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1h8dSyYpe0BcOUqd13j7Vu6-yJR2INfV7YV3aenvbY2w/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Kontakte",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1h8dSyYpe0BcOUqd13j7Vu6-yJR2INfV7YV3aenvbY2w/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        1360,
        3320
      ],
      "id": "41493d71-9ac9-4d62-bb87-06a9f76c8540",
      "name": "Contacts",
      "credentials": {
        "": {
          "id": "Ae0WQjpiHTgOFJBK",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1860,
        3380
      ],
      "id": "b3bbf418-0c1f-4088-bdf4-8648281d178b",
      "name": "4o",
      "credentials": {
        "openAiApi": {
          "id": "",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "5355046437",
        "text": "={{ $json.intent }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1640,
        3140
      ],
      "id": "9da4db9e-3564-4ed3-bd87-11fd6d9ad355",
      "name": "Answer User",
      "webhookId": "06135021-087d-4558-be06-94de90f2f053",
      "credentials": {
        "telegramApi": {
          "id": "",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "sessionKey": "=chat_with_{{ $('Telegram Trigger').first().json.message.chat.id }}",
        "contextWindowLength": 12
      },
      "id": "c25bc683-1d73-4fd1-8488-199a68ccf088",
      "name": "Window Buffer Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        1120,
        3320
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [
        1000,
        220
      ],
      "id": "23d980cf-69e6-47cb-9b20-7620dbf490dc",
      "name": "Telegram Trigger",
      "webhookId": "15c601fb-1468-4861-89ea-11203b678c14",
      "credentials": {
        "telegramApi": {
          "id": "",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Erstelle einen detaillierten Bericht im HTML-Format für das folgende Thema: \"{{ $('Prompt Chaining').item.json.topic }}\"\n\nFolge dieser Gliederung: {{ $json.output }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1880,
        220
      ],
      "id": "bea100e0-42a9-44a5-8006-022a73f9db62",
      "name": "HTML Bericht erstellen"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Liste prägnante, strukturierte Schlüsselpunkte und Ansätze zu folgendem Thema: {{ $json.topic }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1280,
        220
      ],
      "id": "f018f0c6-9be3-4360-abe0-9d723c63d3d9",
      "name": "Schlüsselpunkte generierung",
      "retryOnFail": false
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Verwende die folgenden Notizen als Referenz:\n{{$json.output}}\n\nErstelle eine Gliederung für den Bericht über \"{{$('Prompt Chaining').item.json.topic}}\".\nFüge deutlich benannte Abschnitte mit kurzen Beschreibungen hinzu, strukturiert wie folgt:\n\n- Einleitung\n- Hauptabschnitte\n- Fazit",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1580,
        220
      ],
      "id": "a042c0a2-5c20-4a97-a040-4a4a80e7be6f",
      "name": "Bericht planen"
    },
    {
      "parameters": {
        "sendTo": "s.claes.work@gmail.com",
        "subject": "=Neuer Bericht zum Thema {{ $('Prompt Chaining').item.json.topic }}",
        "message": "={{ $json.output }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        2180,
        220
      ],
      "id": "7b0496ad-bb28-40a0-896b-60eb7f22f855",
      "name": "Gmail",
      "webhookId": "2342e349-8d67-4185-a2c7-3bf88312a46b",
      "credentials": {
        "gmailOAuth2": {
          "id": "",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "5355046437",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2140,
        900
      ],
      "id": "e85b254b-06e5-4e21-a9e9-931da1738b30",
      "name": "Telegram",
      "webhookId": "3bb2e5ea-311b-43aa-81fd-284a5a48ed5f",
      "credentials": {
        "telegramApi": {
          "id": "",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1760,
        760
      ],
      "id": "7b73ef53-6ecd-438d-b037-a7a9e5227015",
      "name": "Gedicht generieren"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1760,
        900
      ],
      "id": "dd050b3c-30ce-4612-98b4-e3d7c42a07a9",
      "name": "Witz generieren"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1760,
        1040
      ],
      "id": "d1dfc85c-7ce9-419b-8246-fdc88060baf7",
      "name": "Geschichte generieren"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Suche nach bestbewerteten Restaurants basierend auf \"{{ $json.chatInput }}\".  \nListe 5 empfohlene Restaurants auf, jeweils mit einer kurzen Beschreibung, die den Küchentyp, die Bewertung und beliebte Gerichte hervorhebt.  \n\nAnweisung: Verwende immer das SERP-API-Tool.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1380,
        1460
      ],
      "id": "dcd394b3-afdb-408a-bb86-e4f7d05a5e83",
      "name": "Restaurants suchen"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Suche nach bestbewerteten Hotels basierend auf \"{{ $json.chatInput }}\".  \nGib eine kompakte Liste mit Hotelnamen, Preisspannen, Sternebewertungen und kurzen Highlights an.  \n\nAnweisung: Verwende immer das SERP-API-Tool.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1380,
        1660
      ],
      "id": "3abe55c1-2d4b-4d61-9ca7-3d1d775ee2e4",
      "name": "Hotels finden"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Suche nach beliebten Touristenattraktionen und Aktivitäten basierend auf \"{{ $json.chatInput }}\".  \nErstelle eine kurze Liste mit den Namen der Aktivitäten, deren Typ (kulturell, outdoor etc.) und einer kurzen Beschreibung.  \n\nAnweisung: Verwende immer das SERP-API-Tool.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1380,
        1860
      ],
      "id": "6da039b8-799c-4be7-93c8-80572945b636",
      "name": "Aktivitäten finden"
    },
    {
      "parameters": {
        "sendTo": "s.claes.work@gmail.com",
        "subject": "=Reiseplanung für die Region: {{ $('Telegram Trigger').first().json.message.text }}",
        "emailType": "text",
        "message": "={{ $json.output }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        2240,
        1660
      ],
      "id": "39e299e6-f10a-4490-9c9b-fa2dca21079b",
      "name": "Sectioning Demo",
      "webhookId": "080228b9-3925-4009-8241-9b3854616590",
      "credentials": {
        "gmailOAuth2": {
          "id": "",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"output\": {{ JSON.stringify(`\ngpt-4o:\n${$('Voting Merge').all()[0].json.output}\n\ngpt-4o-mini:\n${$('Voting Merge').all()[1].json.output}\n\ngpt-3.5-turbo:\n${$('Voting Merge').all()[2].json.output}\n`) }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3780,
        1660
      ],
      "id": "72406c77-9d7d-434e-87e4-35971885aa93",
      "name": "Solgans zusammenfassen",
      "executeOnce": true
    },
    {
      "parameters": {
        "chatId": "5355046437",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3960,
        1660
      ],
      "id": "ef348b6e-761c-4927-a8a0-22ace446240d",
      "name": "Telegram1",
      "webhookId": "3bb2e5ea-311b-43aa-81fd-284a5a48ed5f",
      "credentials": {
        "telegramApi": {
          "id": "",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Erstelle drei tolle Werbe slogans zu folgendem Thema: \"{{ $json.chatInput }}\".  \n\nFormatiere das ergebnis wie folgt:\n\n1. Solgan 1\n2. Slogan 2\n3. Slogan 3",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        3120,
        1420
      ],
      "id": "51adee8a-ed7e-41d7-9867-1f2e0c4d69c9",
      "name": "Slogan mit gpt-4o"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Erstelle drei tolle Werbe slogans zu folgendem Thema: \"{{ $json.chatInput }}\".  \n\nFormatiere das ergebnis wie folgt:\n\n1. Solgan 1\n2. Slogan 2\n3. Slogan 3",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        3120,
        1660
      ],
      "id": "cd28632b-9385-4d40-880d-eb4e2f9c1ef9",
      "name": "Slogan mit gpt-4o-mini"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Erstelle drei tolle Werbe slogans zu folgendem Thema: \"{{ $json.chatInput }}\".  \n\nFormatiere das ergebnis wie folgt:\n\n1. Solgan 1\n2. Slogan 2\n3. Slogan 3",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        3120,
        1900
      ],
      "id": "a2987669-92cd-4d78-936e-acf5f88b0ddc",
      "name": "Slogan mit gpt-3.5 turbo"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Du bist ein Übersetzungs-Agent.\n\nBitte übersetze den folgenden Text in: {{ $json.language }}\n\nZu übersetzender Text:\n{{ $json.text }}\n\nGib nur den übersetzten Text aus, mit der übersetzten Sprache als Titel, ohne zusätzliche Kommentare.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1860,
        2400
      ],
      "id": "9856bd1e-128e-4d17-87e3-c75592651309",
      "name": "Übersetzter"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.message.text }}",
        "options": {
          "systemMessage": "=Du bist ein hilfreicher Gmail Agent\nKontext: Adressat is immer s.claes.work@gmail.com"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1220,
        3760
      ],
      "id": "d3e917e0-9b96-4b9a-954c-80f1ad3880e7",
      "name": "Gmail Agent"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Nutzer query: {{ $json.message.text }}",
        "options": {
          "systemMessage": "=# Übersicht\n\nDu bist ein Kalenderassistent. Deine Aufgabe ist es, die eingehende Anfrage zu analysieren und die Absicht des Nutzers zu erkennen.\n\n## Tools\n\nContacts – Verwende dieses Tool, um Kontaktinformationen wie E-Mail-Adressen abzurufen. Du musst dieses Tool verwenden, wenn der Nutzer ein Ereignis mit einem Teilnehmer erstellen möchte. Wenn kein Teilnehmer angegeben ist, musst du dieses Tool nicht verwenden.\n\nGet_Events – Verwende dieses Tool, wenn der Nutzer ein Ereignis erstellen, löschen oder aktualisieren möchte. Du solltest die Details des Ereignisses bereitstellen, um sicherzustellen, dass es sich um das richtige Ereignis handelt, das gelöscht oder aktualisiert werden soll.\n\n## Regeln\n\nDu musst immer die Funktion „Ereignisse abrufen“ verwenden, um sicherzustellen, dass es keine Terminkonflikte gibt.\nWenn du gebeten wirst, ein Ereignis zu verschieben, zu aktualisieren oder zu löschen, musst du „Ereignisse abrufen“ verwenden, um das Ereignis zu bestätigen. Gib dabei die Details des Ereignisses wie Datum, Uhrzeit und E-Mail-Adressen der Teilnehmer an.\n\n## Ausgabe\n\nGib die Anfrage des Nutzers wieder und stelle bei Bedarf Rückfragen zur Klärung.\nGib immer die E-Mail-Adresse des angeforderten Kontakts aus, falls der Nutzer dies wünscht.\nFalls es zwei Einträge für denselben Namen gibt, gib die E-Mail-Adresse sowie die Art des Kontakts an.\n\n## Abschließende Hinweise\nHier ist das aktuelle Datum/Uhrzeit: {{ $now }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1180,
        3140
      ],
      "id": "d840af2f-a1ed-4fd9-a7be-e7cc2cd717c2",
      "name": "Nutzer Absicht einordnen"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3ab6c175-d35c-48a3-a9db-5162f962d5f9",
              "name": "intent",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1500,
        3140
      ],
      "id": "59c640ec-f0e7-415f-8116-2841dcb866de",
      "name": "Absicht setzen"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Ursprüngliche Absicht: {{ $('Absicht setzen').item.json.intent }}\n\nFeedback des Nutzers: {{ $json.data.text }}",
        "options": {
          "systemMessage": "=# Übersicht\n\nDu bist ein Korrekturassistent. Deine Aufgabe ist es, die ursprüngliche Ausgabe zu überprüfen und basierend auf dem Feedback des Nutzers zu korrigieren.\n\n## Ausgabe\n\nDeine Aufgabe ist es, die neue Absicht der Anfrage auszugeben.\nGib immer alle erforderlichen Details an, wie die E-Mail-Adressen der Teilnehmer, Uhrzeit, Datum, Zusammenfassung usw.\nStelle bei Bedarf eine Klärungsfrage. Wenn es nichts zu klären gibt, frage einfach: „Ist das korrekt?"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        2140,
        3240
      ],
      "id": "4478f1c1-13f8-4b73-bce2-b9be4bb9fb55",
      "name": "Korrektur Auftrag erstellen"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Absicht setzen').item.json.intent }}",
        "options": {
          "systemMessage": "=# Übersicht\n\nDu bist ein Kalenderassistent. Deine Aufgaben umfassen das Erstellen, Abrufen und Löschen von Terminen im Kalender des Nutzers.\n\n**Kalenderverwaltungs-Tools**\n\n- Verwende „Termin_mit_Teilnehmer_erstellen“, wenn ein Ereignis einen Teilnehmer beinhaltet.\n- Verwende „Termin_erstellen“ für Einzeltermine.\n- Verwende „Termine_abrufen“, um den Kalenderplan abzurufen, wenn dies gewünscht wird.\n- Verwende „Termin_loeschen“, um ein Ereignis zu entfernen. Du musst zuerst „Termine abrufen“ nutzen, um die ID des zu löschenden Termins zu erhalten.\n- Verwende „Termin_aktualisieren“, um einen Termin zu ändern. Auch hier musst du zuerst „Termine_abrufen“ verwenden, um die ID des zu aktualisierenden Termins zu ermitteln.\n- Verwende „Kontakte_abfragen“, um Informationen zu einem Kontakt zu ermitteln, wenn dir Informationen fehlen.\n\n## Regeln\n\nSetze die eingehende Anfrage direkt in eine Aktion um. Ignoriere Klärungsfragen und handle ausschließlich basierend auf der erhaltenen Absicht.\n\n## Abschließende Hinweise\n\nAktuelles Datum/Uhrzeit: {{ $now }}\nFalls keine Dauer für einen Termin angegeben wird, gehe davon aus, dass er eine Stunde dauert."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        2140,
        2860
      ],
      "id": "cba089a0-a3f5-47db-9cfd-547aea7eaaaf",
      "name": "Kalender Agent"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "1f403630170c8d537460aca9d72600e7f41f29a111216e21171264f622ad6d87@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "Test"
        },
        "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}",
        "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
        "additionalFields": {
          "summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        2160,
        3080
      ],
      "id": "0c3986d6-f669-4cfb-a2a8-1e343cfbee4a",
      "name": "Termin_erstellen",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "1f403630170c8d537460aca9d72600e7f41f29a111216e21171264f622ad6d87@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "Test"
        },
        "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}",
        "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
        "additionalFields": {
          "attendees": [
            "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Attendees', ``, 'string') }}"
          ],
          "summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        2280,
        3080
      ],
      "id": "a48908b5-7742-4324-94b4-3efc0d224dc2",
      "name": "Termin_mit_Teilnehmer_erstellen",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "1f403630170c8d537460aca9d72600e7f41f29a111216e21171264f622ad6d87@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "Test"
        },
        "returnAll": true,
        "timeMin": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', `12:01 AM of the day the user requested`, 'string') }}",
        "timeMax": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', `11:59 PM of the day the user requested`, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        2400,
        3080
      ],
      "id": "976ac3f9-b687-4299-a9e0-99ea68e474d6",
      "name": "Termine_abrufen",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "calendar": {
          "__rl": true,
          "value": "1f403630170c8d537460aca9d72600e7f41f29a111216e21171264f622ad6d87@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "Test"
        },
        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
        "updateFields": {
          "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
          "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        2520,
        3080
      ],
      "id": "6bc6d320-05fe-4a94-b8d6-a2f835605aba",
      "name": "Termin_aktualisieren",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "calendar": {
          "__rl": true,
          "value": "1f403630170c8d537460aca9d72600e7f41f29a111216e21171264f622ad6d87@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "Test"
        },
        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        2640,
        3080
      ],
      "id": "b75cd77b-9538-46c0-a31d-46d1fb4728a2",
      "name": "Termin_loeschen",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1h8dSyYpe0BcOUqd13j7Vu6-yJR2INfV7YV3aenvbY2w",
          "mode": "list",
          "cachedResultName": "Test Kontakte",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1h8dSyYpe0BcOUqd13j7Vu6-yJR2INfV7YV3aenvbY2w/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Kontakte",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1h8dSyYpe0BcOUqd13j7Vu6-yJR2INfV7YV3aenvbY2w/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        2760,
        3080
      ],
      "id": "28a33c4e-9716-47f3-aaaf-4f44d26c2d5d",
      "name": "Kontakte_abfragen",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Text Classifier": {
      "main": [
        [
          {
            "node": "Gedicht generieren",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Witz generieren",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Geschichte generieren",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "O3-mini-Routing": {
      "ai_languageModel": [
        [
          {
            "node": "Text Classifier",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Gedicht generieren",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Witz generieren",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Geschichte generieren",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "SerpAPI": {
      "ai_tool": [
        [
          {
            "node": "Restaurants suchen",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "Hotels finden",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "Aktivitäten finden",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Aggregator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Voting Merge": {
      "main": [
        [
          {
            "node": "Solgans zusammenfassen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregator": {
      "main": [
        [
          {
            "node": "Sectioning Demo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sectioning": {
      "main": [
        [
          {
            "node": "Restaurants suchen",
            "type": "main",
            "index": 0
          },
          {
            "node": "Hotels finden",
            "type": "main",
            "index": 0
          },
          {
            "node": "Aktivitäten finden",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Voting": {
      "main": [
        [
          {
            "node": "Slogan mit gpt-4o",
            "type": "main",
            "index": 0
          },
          {
            "node": "Slogan mit gpt-4o-mini",
            "type": "main",
            "index": 0
          },
          {
            "node": "Slogan mit gpt-3.5 turbo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Routing": {
      "main": [
        [
          {
            "node": "Text Classifier",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prompt Chaining": {
      "main": [
        [
          {
            "node": "Schlüsselpunkte generierung",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agents - O3-MINI": {
      "ai_languageModel": [
        [
          {
            "node": "Gmail Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Orchestrator": {
      "main": [
        [
          {
            "node": "Orchestrator Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "O3-mini-P": {
      "ai_languageModel": [
        [
          {
            "node": "Restaurants suchen",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Hotels finden",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Aktivitäten finden",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "O3-mini-Routing2": {
      "ai_languageModel": [
        [
          {
            "node": "Orchestrator Agent",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Übersetzter",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "Gmail Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Orchestrator Agent": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Übersetzter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Translation Array": {
      "ai_outputParser": [
        [
          {
            "node": "Orchestrator Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Translated Text": {
      "main": [
        [
          {
            "node": "Gmail3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Email": {
      "ai_tool": [
        [
          {
            "node": "Gmail Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Schlüsselpunkte generierung",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Bericht planen",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "HTML Bericht erstellen",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "gpt-4o": {
      "ai_languageModel": [
        [
          {
            "node": "Slogan mit gpt-4o",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "gpt-4o-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Slogan mit gpt-4o-mini",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "gpt-3.5-turbo": {
      "ai_languageModel": [
        [
          {
            "node": "Slogan mit gpt-3.5 turbo",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get_Events": {
      "ai_tool": [
        [
          {
            "node": "Nutzer Absicht einordnen",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Check Feedback": {
      "main": [
        [
          {
            "node": "Kalender Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Korrektur Auftrag erstellen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Contacts": {
      "ai_tool": [
        [
          {
            "node": "Nutzer Absicht einordnen",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "4o": {
      "ai_languageModel": [
        [
          {
            "node": "Korrektur Auftrag erstellen",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Kalender Agent",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Check Feedback",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Nutzer Absicht einordnen",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Answer User": {
      "main": [
        [
          {
            "node": "Check Feedback",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory1": {
      "ai_memory": [
        [
          {
            "node": "Nutzer Absicht einordnen",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Prompt Chaining",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML Bericht erstellen": {
      "main": [
        [
          {
            "node": "Gmail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schlüsselpunkte generierung": {
      "main": [
        [
          {
            "node": "Bericht planen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Bericht planen": {
      "main": [
        [
          {
            "node": "HTML Bericht erstellen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gedicht generieren": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Witz generieren": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Geschichte generieren": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Restaurants suchen": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Hotels finden": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Aktivitäten finden": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Solgans zusammenfassen": {
      "main": [
        [
          {
            "node": "Telegram1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Slogan mit gpt-4o": {
      "main": [
        [
          {
            "node": "Voting Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Slogan mit gpt-4o-mini": {
      "main": [
        [
          {
            "node": "Voting Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Slogan mit gpt-3.5 turbo": {
      "main": [
        [
          {
            "node": "Voting Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Übersetzter": {
      "main": [
        [
          {
            "node": "Translated Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Nutzer Absicht einordnen": {
      "main": [
        [
          {
            "node": "Absicht setzen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Absicht setzen": {
      "main": [
        [
          {
            "node": "Answer User",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Korrektur Auftrag erstellen": {
      "main": [
        [
          {
            "node": "Absicht setzen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Kalender Agent": {
      "main": [
        [
          {
            "node": "Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Termin_erstellen": {
      "ai_tool": [
        [
          {
            "node": "Kalender Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Termin_mit_Teilnehmer_erstellen": {
      "ai_tool": [
        [
          {
            "node": "Kalender Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Termine_abrufen": {
      "ai_tool": [
        [
          {
            "node": "Kalender Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Termin_aktualisieren": {
      "ai_tool": [
        [
          {
            "node": "Kalender Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Termin_loeschen": {
      "ai_tool": [
        [
          {
            "node": "Kalender Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Kontakte_abfragen": {
      "ai_tool": [
        [
          {
            "node": "Kalender Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "3c219ac4-b16c-4e1b-9192-243b38094852",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "9c06bc23b1a23160e3960ed6f733e332af8ebbf2e7eb3507d43983032cffc4ae"
  },
  "id": "SDUsxy2IVXGTs2XW",
  "tags": []
}
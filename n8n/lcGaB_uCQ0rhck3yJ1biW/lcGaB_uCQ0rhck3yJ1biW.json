{"active":true,"connections":{"Bereinige Titel":{"main":[[{"index":0,"node":"Erstelle Google Doc","type":"main"}]]},"Chunk Recap":{"main":[[{"index":0,"node":"Split Recap","type":"main"}]]},"Config":{"main":[[{"index":0,"node":"Bereinige Titel","type":"main"}]]},"Erstelle Google Doc":{"main":[[{"index":0,"node":"Felder fÃ¼r Notion","type":"main"}]]},"Felder fÃ¼r Notion":{"main":[[{"index":0,"node":"Notion Seite erstellen","type":"main"}]]},"Header Minutes":{"main":[[{"index":0,"node":"â€žMeeting Minutesâ€œ stÃ¼ckeln","type":"main"}]]},"Header Recap":{"main":[[{"index":0,"node":"Chunk Recap","type":"main"}]]},"Last Minutes Chunk?":{"main":[[{"index":0,"node":"Header Recap","type":"main"}]]},"Last Recap Chunk?":{"main":[[{"index":0,"node":"Transkript Kopfbereich","type":"main"},{"index":0,"node":"Wait","type":"main"}]]},"Notion Seite erstellen":{"main":[[{"index":0,"node":"Header Minutes","type":"main"}]]},"Split Recap":{"main":[[{"index":0,"node":"Write Recap","type":"main"}]]},"Transkript Kopfbereich":{"main":[[{"index":0,"node":"Transkript chuncken","type":"main"}]]},"Transkript aufteilen":{"main":[[{"index":0,"node":"Transkript schreiben","type":"main"}]]},"Transkript chuncken":{"main":[[{"index":0,"node":"Transkript aufteilen","type":"main"}]]},"Transkript schreiben":{"main":[[]]},"Wait":{"main":[[{"index":0,"node":"Info per Threema","type":"main"}]]},"Webhook1":{"main":[[{"index":0,"node":"Config","type":"main"}]]},"Write Recap":{"main":[[{"index":0,"node":"Last Recap Chunk?","type":"main"}]]},"â€žMeeting Minutesâ€œ aufteilen":{"main":[[{"index":0,"node":"â€žMeeting Minutesâ€œ schreiben","type":"main"}]]},"â€žMeeting Minutesâ€œ schreiben":{"main":[[{"index":0,"node":"Last Minutes Chunk?","type":"main"}]]},"â€žMeeting Minutesâ€œ stÃ¼ckeln":{"main":[[{"index":0,"node":"â€žMeeting Minutesâ€œ aufteilen","type":"main"}]]}},"name":"Hedy nach Notion Meeting - Optimiert","nodes":[{"name":"Bereinige Titel","parameters":{"jsCode":"// Wir greifen direkt auf den Webhook-Node zu, egal was dazwischen liegt\n// Achte darauf, dass der Name 'Webhook1' exakt stimmt!\nconst webhookBody = $('Webhook1').item.json.body;\n\nif (!webhookBody) {\n  throw new Error(\"Konnte keine Webhook-Daten finden. PrÃ¼fe den Namen des Webhook-Nodes!\");\n}\n\n// Falls Hedy nur einen Test schickt, gibt es kein \"title\" Feld.\nlet title = webhookBody.title || webhookBody.event || \"Unbenanntes_Meeting\";\n\n// Die Logik zum Bereinigen des Titels\nlet firstPart = title.split('-')[0].trim();\nfirstPart = firstPart.replace(/\\s+/g, '_');\n\n// Wir geben ALLES vom Webhook weiter + die bereinigten Titel-Felder\nreturn [\n  {\n    json: {\n      ...webhookBody, \n      originalTitle: title,\n      splittedTitle: firstPart\n    }\n  }\n];"},"position":[5504,496],"type":"n8n-nodes-base.code","typeVersion":2},{"credentials":{"googleApi":{"name":"n8n Sheets Service"}},"name":"Erstelle Google Doc","parameters":{"authentication":"serviceAccount","driveId":{"__rl":true,"cachedResultName":"My Drive","cachedResultUrl":"https://drive.google.com/drive/my-drive","mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"id","value":"1DYocaBOYtWKqYV_6_tDrS7ikaSDyE498"},"name":"={{ ($('Webhook1').item.json.body.startTime || $('Webhook1').item.json.body.data.timestamp || new Date().toISOString()).split('T')[0].replace(/-/g, '') + '_' + ($json.splittedTitle || 'Meeting') }}","operation":"createFromText","options":{}},"position":[5728,496],"type":"n8n-nodes-base.googleDrive","typeVersion":3},{"name":"Felder fÃ¼r Notion","parameters":{"assignments":{"assignments":[{"name":"Name","type":"string","value":"={{ $('Webhook1').item.json.body.title || $json.originalTitle || 'Test-Sitzung' }}"},{"name":"Start","type":"string","value":"={{ $('Webhook1').item.json.body.startTime || $('Webhook1').item.json.body.data.timestamp }}"},{"name":"Ende","type":"string","value":"={{ $('Webhook1').item.json.body.endTime || $('Webhook1').item.json.body.data.timestamp }}"},{"name":"Protokoll","type":"string","value":"=https://docs.google.com/document/d/{{ $('Erstelle Google Doc').item.json.id }}/edit"}]},"options":{}},"position":[5952,496],"type":"n8n-nodes-base.set","typeVersion":3.4},{"credentials":{"notionApi":{"name":"API Notion"}},"name":"Notion Seite erstellen","parameters":{"databaseId":{"__rl":true,"cachedResultName":"Hedy Transkripte 0.9 Realtime Meeting Assistenz","cachedResultUrl":"https://www.notion.so/2ca31cc6fd5680798a58d74ec1097a36","mode":"list","value":"2ca31cc6-fd56-8079-8a58-d74ec1097a36"},"options":{"icon":"ðŸ‘“","iconType":"emoji"},"propertiesUi":{"propertyValues":[{"key":"Titel|title","title":"={{ $('Bereinige Titel').item.json.splittedTitle }}"},{"key":"Zusammenfassung|rich_text","textContent":"={{ $('Webhook1').item.json.body.recap.slice(0, 2000) }}"}]},"resource":"databasePage","simple":false,"title":"={{ $('Bereinige Titel').item.json.originalTitle }}"},"position":[6176,496],"type":"n8n-nodes-base.notion","typeVersion":2.2},{"credentials":{"notionApi":{"name":"API Notion"}},"name":"Header Minutes","parameters":{"blockId":{"__rl":true,"mode":"id","value":"={{ $json.id }}"},"blockUi":{"blockValues":[{"textContent":"Zusammenfassung (Minutes)","type":"heading_1"}]},"resource":"block"},"position":[6400,496],"type":"n8n-nodes-base.notion","typeVersion":2.2},{"name":"Last Minutes Chunk?","parameters":{"conditions":{"conditions":[{"leftValue":"={{$itemIndex}}","operator":"equals","rightValue":"={{$node[\"â€žMeeting Minutesâ€œ aufteilen\"].context.itemCount - 1}}"}]},"options":{}},"position":[7296,496],"type":"n8n-nodes-base.if","typeVersion":2.3},{"credentials":{"notionApi":{"name":"API Notion"}},"name":"Header Recap","parameters":{"blockId":{"__rl":true,"mode":"id","value":"={{ $('Notion Seite erstellen').first().json.id }}"},"blockUi":{"blockValues":[{"textContent":"Recap","type":"heading_1"}]},"resource":"block"},"position":[7520,496],"type":"n8n-nodes-base.notion","typeVersion":2.2},{"name":"Chunk Recap","parameters":{"jsCode":"const FIELD = 'recap';\nconst CHUNK_SIZE = 1900;\nconst text = $items('Webhook1')[0].json.body[FIELD] || '';\nconst chunks = [];\nfor (let i = 0; i < text.length; i += CHUNK_SIZE) {\n  chunks.push(text.slice(i, i + CHUNK_SIZE));\n}\nreturn [{ json: { chunks } }];"},"position":[7744,496],"type":"n8n-nodes-base.code","typeVersion":2},{"name":"Split Recap","parameters":{"fieldToSplitOut":"chunks","options":{}},"position":[7968,496],"type":"n8n-nodes-base.splitOut","typeVersion":1},{"credentials":{"notionApi":{"name":"API Notion"}},"name":"Write Recap","parameters":{"blockId":{"__rl":true,"mode":"id","value":"={{ $('Notion Seite erstellen').first().json.id }}"},"blockUi":{"blockValues":[{"textContent":"={{ $json.chunks }}"}]},"resource":"block"},"position":[8192,496],"type":"n8n-nodes-base.notion","typeVersion":2.2},{"name":"Last Recap Chunk?","parameters":{"conditions":{"conditions":[{"leftValue":"={{$itemIndex}}","operator":"equals","rightValue":"={{$node[\"Split Recap\"].context.itemCount - 1}}"}]},"options":{}},"position":[8416,496],"type":"n8n-nodes-base.if","typeVersion":2.3},{"name":"Webhook1","parameters":{"httpMethod":"POST","options":{},"path":"hedy-transkripte-nach-notion-ddd6468b-6d6e-4160-afa8-c5733d265335"},"position":[5056,496],"type":"n8n-nodes-base.webhook","typeVersion":2,"webhookId":"5876b178-8f5e-4070-b455-bd6b29c08aed"},{"credentials":{"notionApi":{"name":"API Notion"}},"name":"Transkript schreiben","parameters":{"blockId":{"__rl":true,"mode":"id","value":"={{ $('Notion Seite erstellen').first().json.id }}"},"blockUi":{"blockValues":[{"textContent":"={{ $json.chunks }}"}]},"resource":"block"},"position":[9312,592],"type":"n8n-nodes-base.notion","typeVersion":2.2},{"name":"Transkript aufteilen","parameters":{"fieldToSplitOut":"chunks","options":{}},"position":[9088,592],"type":"n8n-nodes-base.splitOut","typeVersion":1},{"name":"Transkript chuncken","parameters":{"jsCode":"const FIELD = 'transcript';\nconst CHUNK_SIZE = 1900;\nconst text = $items('Webhook1')[0].json.body[FIELD] || '';\nconst chunks = [];\nfor (let i = 0; i < text.length; i += CHUNK_SIZE) {\n  chunks.push(text.slice(i, i + CHUNK_SIZE));\n}\nreturn [{ json: { chunks } }];"},"position":[8864,592],"type":"n8n-nodes-base.code","typeVersion":2},{"credentials":{"notionApi":{"name":"API Notion"}},"name":"Transkript Kopfbereich","parameters":{"blockId":{"__rl":true,"mode":"id","value":"={{ $('Notion Seite erstellen').first().json.id }}"},"blockUi":{"blockValues":[{"textContent":"Transcript","type":"heading_1"}]},"resource":"block"},"position":[8640,592],"type":"n8n-nodes-base.notion","typeVersion":2.2},{"name":"Info per Threema","parameters":{"method":"POST","options":{},"queryParameters":{"parameters":[{"name":"secret","value":"={{ $('Config').first().json.secret }}"},{"name":"from","value":"={{ $('Config').first().json.threemaFrom }}"},{"name":"to","value":"={{ $('Config').first().json.threemaTo }}"},{"name":"text","value":"=ðŸ“œ *Hedy-Transkript nach Notion*\n\nðŸ“† Sitzung: {{ $('Bereinige Titel').first().json.title }}\nðŸ“ *Recap*: {{ $('Bereinige Titel').first().json.recap.slice(0, 200) }}\nðŸ”— Pfad: {{ $('Notion Seite erstellen').first().json.url }}"}]},"sendQuery":true,"url":"https://msgapi.threema.ch/send_simple"},"position":[8864,400],"type":"n8n-nodes-base.httpRequest","typeVersion":4.2},{"name":"Sticky Note2","parameters":{"content":"## Ausgabe\nThreema Work erhÃ¤lt eine Push mit der Statistik.","height":240,"width":400},"position":[8600,320],"type":"n8n-nodes-base.stickyNote","typeVersion":1},{"name":"Config","parameters":{"assignments":{"assignments":[{"name":"threemaFrom","type":"string","value":"*BERENT1"},{"name":"threemaTo","type":"string","value":"BUMFMZ39"},{"name":"secret","type":"string","value":"18DOvPKBV7ize3Nh"}]},"options":{}},"position":[5280,496],"type":"n8n-nodes-base.set","typeVersion":3.4},{"name":"Sticky Note","parameters":{"content":"## Eingabe\nIn Hedy beendete Sitzungen werden automatisch an diesen Workflow Ã¼bergeben.","height":272,"width":464},"position":[4984,384],"type":"n8n-nodes-base.stickyNote","typeVersion":1},{"name":"Sticky Note1","parameters":{"color":4,"content":"## Verarbeitung\nâ€“ Alle von GitHub gelesenen Workflows durchlaufen eine Schleife, in der auf Ã„nderungen geprÃ¼ft wird, was eine Aktion zu GitHub zu Folge hat.\nâ€“ Auf GitHub werden die Workflows unter der ID in einem Ordner gespeichert, um nachtrÃ¤gliches Umbenennen zu ermÃ¶glichen.\nâ€“ Nicht geÃ¤nderte oder archivierte Workslows werden ignoriert.\nâ€“ Es wird eine Statistik nach â€žerfolgreichâ€œ, â€žÃ¼bersprungenâ€œ und â€žFehlerâ€œ gefÃ¼hrt.","height":464,"width":3984},"position":[5464,288],"type":"n8n-nodes-base.stickyNote","typeVersion":1},{"name":"Wait","parameters":{},"position":[8640,400],"type":"n8n-nodes-base.wait","typeVersion":1.1,"webhookId":"f75ff374-6de2-49bf-ae38-2699256b3630"},{"name":"â€žMeeting Minutesâ€œ stÃ¼ckeln","parameters":{"jsCode":"const FIELD = 'meeting_minutes';\nconst CHUNK_SIZE = 1900;\nconst text = $items('Webhook1')[0].json.body[FIELD] || '';\nconst chunks = [];\nfor (let i = 0; i < text.length; i += CHUNK_SIZE) {\n  chunks.push(text.slice(i, i + CHUNK_SIZE));\n}\nreturn [{ json: { chunks } }];"},"position":[6624,496],"type":"n8n-nodes-base.code","typeVersion":2},{"name":"â€žMeeting Minutesâ€œ aufteilen","parameters":{"fieldToSplitOut":"chunks, ","options":{}},"position":[6848,496],"type":"n8n-nodes-base.splitOut","typeVersion":1},{"credentials":{"notionApi":{"name":"API Notion"}},"name":"â€žMeeting Minutesâ€œ schreiben","parameters":{"blockId":{"__rl":true,"mode":"id","value":"={{ $('Notion Seite erstellen').item.json.id }}"},"blockUi":{"blockValues":[{"textContent":"={{ $json.chunks }}"}]},"resource":"block"},"position":[7072,496],"type":"n8n-nodes-base.notion","typeVersion":2.2}],"settings":{"availableInMCP":true,"callerPolicy":"workflowsFromSameOwner","executionOrder":"v1","timeSavedMode":"fixed"}}